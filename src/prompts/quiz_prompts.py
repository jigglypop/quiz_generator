"""
퀴즈 생성을 위한 GPT 프롬프트 템플릿 모음
"""

SYSTEM_PROMPT = """당신은 한국의 금융 전문가이자 교육자입니다. 주어진 금융 교재 내용을 바탕으로 고품질의 4지선다 퀴즈 문제를 생성하는 것이 목표입니다.

# 퀴즈 생성 원칙
1. **정확성**: 교재 내용에 정확히 기반한 문제만 생성
2. **실용성**: 실무진이 실제로 알아야 할 핵심 개념 위주
3. **명확성**: 애매하거나 혼란스러운 문제 지양
4. **적절한 난이도**: 중급 수준의 금융업무 담당자 대상
5. **한국어 표준**: 자연스럽고 정확한 한국어 사용

# 문제 구성 요소
- **문제**: 명확하고 구체적인 질문
- **선택지**: 4개의 선택지 (정답 1개, 오답 3개)
- **정답**: 1~4 중 정답 번호
- **해설**: 정답 근거와 핵심 개념 설명 (2-3문장)
- **개념**: 출제된 핵심 개념/키워드

# 금지사항
- 교재에 없는 내용으로 문제 생성 금지
- 너무 세부적이거나 지엽적인 내용 금지
- 단순 암기보다는 이해도를 묻는 문제 선호
- 선택지는 모두 그럴듯해야 함 (명백히 틀린 답 지양)

반드시 JSON 형식으로만 응답하세요."""

QUIZ_GENERATION_PROMPT = """다음 금융 교재 내용을 바탕으로 4지선다 퀴즈 문제 1개를 생성해주세요.

# 교재 내용:
{content}

# 교재 정보:
- 교재명: {textbook}
- 장: {chapter}

다음 JSON 형식으로만 응답해주세요:

{{
    "question": "문제 내용을 여기에 작성",
    "options": {{
        "1": "첫 번째 선택지",
        "2": "두 번째 선택지", 
        "3": "세 번째 선택지",
        "4": "네 번째 선택지"
    }},
    "correct_answer": 정답번호(1~4),
    "explanation": "정답 근거와 핵심 개념 설명 (2-3문장)",
    "concept": "출제된 핵심 개념/키워드",
    "chapter": "{chapter}",
    "textbook": "{textbook}"
}}

JSON 형식 외의 다른 텍스트는 포함하지 마세요."""

SECTION_QUIZ_GENERATION_PROMPT = """다음 금융 교재의 특정 절(Section) 내용을 바탕으로 4지선다 퀴즈 문제 1개를 생성해주세요.

# 교재 내용:
{content}

# 교재 정보:
- 교재명: {textbook}
- 장: {chapter}
- 절: {section}

# 절별 문제 생성 시 주의사항:
- 해당 절의 핵심 개념에 집중
- 절의 특징적인 내용을 반영
- 다른 절과 구별되는 고유한 내용으로 출제

다음 JSON 형식으로만 응답해주세요:

{{
    "question": "문제 내용을 여기에 작성",
    "options": {{
        "1": "첫 번째 선택지",
        "2": "두 번째 선택지", 
        "3": "세 번째 선택지",
        "4": "네 번째 선택지"
    }},
    "correct_answer": 정답번호(1~4),
    "explanation": "정답 근거와 핵심 개념 설명 (2-3문장)",
    "concept": "출제된 핵심 개념/키워드",
    "chapter": "{chapter}",
    "textbook": "{textbook}"
}}

JSON 형식 외의 다른 텍스트는 포함하지 마세요."""

CONCEPT_EXTRACTION_PROMPT = """다음 금융 교재 내용에서 퀴즈 문제로 출제할 수 있는 핵심 개념들을 추출해주세요.

# 교재 내용:
{content}

다음 기준으로 개념을 선별해주세요:
1. 정의나 용어 설명이 명확한 개념
2. 실무에서 중요한 개념
3. 시험이나 평가에 자주 출제되는 개념
4. 이해도를 측정할 수 있는 개념

JSON 배열 형식으로 응답해주세요:
["개념1", "개념2", "개념3", ...]

최대 5개까지만 추출해주세요."""

ERROR_PROMPT = """퀴즈 생성 중 오류가 발생했습니다. 다시 시도해주세요.

# 오류 내용:
{error}

# 교재 내용:
{content}

더 간단하고 명확한 문제로 다시 생성해주세요. JSON 형식을 정확히 지켜주세요.""" 